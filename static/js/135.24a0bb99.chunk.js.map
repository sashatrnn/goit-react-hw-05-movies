{"version":3,"file":"static/js/135.24a0bb99.chunk.js","mappings":"uQACA,EAAuB,2BAAvB,EAA2D,6BAA3D,EAAoG,gCAApG,EAAkJ,kCAAlJ,EAAiM,iCAAjM,EAAgP,kCAAhP,EAAqV,mCAArV,EAAgY,4BAAhY,EAAua,+BAAva,EAA6c,2BAA7c,EAAgf,4B,SCMje,SAASA,IAAgB,IAAD,YACrC,GAAwCC,EAAAA,EAAAA,UAAS,CAAC,GAAlD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KACA,GAAkCJ,EAAAA,EAAAA,WAAS,GAA3C,eAAOK,EAAP,KAAkBC,EAAlB,KAEMC,GAAWC,EAAAA,EAAAA,MAETC,GAAYC,EAAAA,EAAAA,MAAZD,SAERE,EAAAA,EAAAA,YAAU,WACR,GAAKF,EAAL,CAGA,IAAMG,EAAS,mCAAG,uGAChBN,GAAa,GADG,mBAINO,EAAAA,EAAAA,IAAgBJ,GAJV,gBAGNK,EAHM,EAGNA,YAAaC,EAHP,EAGOA,KAAMC,EAHb,EAGaA,MAAOC,EAHpB,EAGoBA,SAAUC,EAH9B,EAG8BA,OAAQC,EAHtC,EAGsCA,aAEpDjB,EAAgB,CACdY,YAAAA,EACAC,KAAMA,QAAQK,EACdJ,MAAOA,QAASI,EAChBD,aAAcA,EAAaE,QAAQ,GACnCJ,SAAAA,EACAC,OAAQA,EAAOI,KAAI,gBAAGP,EAAH,EAAGA,KAAMQ,EAAT,EAASA,GAAT,OAAkB,wBAAcR,GAALQ,EAA3B,MAXP,kDAcdnB,EAAS,KAAMoB,SAdD,yBAgBdlB,GAAa,GAhBC,6EAAH,qDAmBfM,GApBC,CAqBF,GAAE,CAACH,IAEJ,IAAMgB,EAAWtB,EAAMuB,OAAS,EACxBZ,EACNb,EADMa,YAAaC,EACnBd,EADmBc,KAAMC,EACzBf,EADyBe,MAAOG,EAChClB,EADgCkB,aAAcF,EAC9ChB,EAD8CgB,SAAUC,EACxDjB,EADwDiB,OAG1D,OACE,8BACGO,GACC,cAAGE,UAAWC,EAAd,UACE,uBAAG,mDAGL,iBAAMD,UAAWC,EAAjB,SACGvB,GACC,SAACwB,EAAA,EAAD,KAEA,iCACE,SAAC,KAAD,CAAMF,UAAWC,EAAYE,GAAE,oBAAEvB,EAASwB,aAAX,aAAE,EAAgBC,YAAlB,QAA0B,IAAzD,SAA8D,aAC9D,iBAAKL,UAAWC,EAAhB,WACE,gBAAKD,UAAWC,EACdK,IACEnB,EAAW,yCAC2BA,GAClC,oFAENoB,IAAKnB,GAAQC,KAEf,4BACE,eAAIW,UAAWC,EAAf,SAAgCb,GAAQC,GAAS,aACjD,gBAAIW,UAAWC,EAAf,UAAgC,WACrBT,GAAgB,eAE3B,cAAGQ,UAAWC,EAAd,SAAyB,eACzB,cAAGD,UAAWC,EAAd,SACGX,GAAY,iBAEf,eAAIU,UAAWC,EAAf,SAA0B,aAC1B,cAAGD,UAAWC,EAAd,SAAiCV,GAAU,qBAG/C,0BACE,gBAAIS,UAAWC,EAAf,WACE,yBACE,SAAC,KAAD,CAAMD,UAAWC,EACfE,GAAG,OACHC,MAAO,CAAEC,KAAI,oBAAEzB,EAASwB,aAAX,aAAE,EAAgBC,YAAlB,QAA0B,KAFzC,SAGC,YAIH,yBACE,SAAC,KAAD,CAAML,UAAWC,EACfE,GAAG,UACHC,MAAO,CAAEC,KAAI,oBAAEzB,EAASwB,aAAX,aAAE,EAAgBC,YAAlB,QAA0B,KAFzC,SAGC,oBAMP,SAAC,KAAD,UAOb,C,+LC1GDG,EAAAA,EAAAA,SAAAA,QAAyB,gCACzBA,EAAAA,EAAAA,SAAAA,OAAwB,CACtBC,QAAS,oCAGJ,IAAMC,EAAiB,mCAAG,sGACRF,EAAAA,EAAAA,IAAA,qBAAgC,CACrDG,OAAQ,CACNC,KAAM,KAHqB,uBACvBC,EADuB,EACvBA,KADuB,kBAMxBA,GANwB,2CAAH,qDASjBC,EAAY,mCAAG,WAAMC,GAAN,yFACHP,EAAAA,EAAAA,IAAA,eAA0B,CAC/CG,OAAQ,CACNI,MAAOA,EACPH,KAAM,KAJgB,uBAClBC,EADkB,EAClBA,KADkB,kBAOnBA,GAPmB,2CAAH,sDAUZ3B,EAAe,mCAAG,WAAMU,GAAN,yFACNY,EAAAA,EAAAA,IAAA,gBAAmBZ,IADb,uBACrBiB,EADqB,EACrBA,KADqB,kBAEtBA,GAFsB,2CAAH,sDAKfG,EAAe,mCAAG,WAAMpB,GAAN,yFACNY,EAAAA,EAAAA,IAAA,gBAAmBZ,EAAnB,aADM,uBACrBiB,EADqB,EACrBA,KADqB,kBAEtBA,EAAKI,MAFiB,2CAAH,sDAKfC,EAAe,mCAAG,WAAMtB,GAAN,yFACNY,EAAAA,EAAAA,IAAA,gBAAmBZ,EAAnB,aADM,uBACrBiB,EADqB,EACrBA,KADqB,kBAEtBA,EAAKM,SAFiB,2CAAH,qD","sources":["webpack://goit-react-hw-05-movies/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","services/moviesApi.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"main\":\"MovieDetails_main__Q9jrF\",\"button\":\"MovieDetails_button__uXZxd\",\"movieItem\":\"MovieDetails_movieItem__M-n2s\",\"moviePoster\":\"MovieDetails_moviePoster__V6U6u\",\"movieTitle\":\"MovieDetails_movieTitle__0CAOT\",\"movieRating\":\"MovieDetails_movieRating__1QxX4\",\"movieOverview\":\"MovieDetails_movieOverview__acHno\",\"overviewText\":\"MovieDetails_overviewText__K3-MM\",\"title\":\"MovieDetails_title__cUGs9\",\"linkItem\":\"MovieDetails_linkItem__QXhuP\",\"more\":\"MovieDetails_more__8vFih\",\"error\":\"MovieDetails_error__uOHXe\"};","import { useState, useEffect } from 'react';\nimport { useParams, Outlet, useLocation } from 'react-router-dom';\nimport { getMovieDetails } from 'services/moviesApi';\nimport { Link } from 'react-router-dom';\nimport { Loader } from 'components/Loader/Loader';\nimport css from './MovieDetails.module.css'\n\nexport default function MovieDetails() {\n  const [movieDetails, setMovieDetails] = useState({});\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n\n  const location = useLocation();\n\n  const { movieId } = useParams();\n\n  useEffect(() => {\n    if (!movieId) {\n      return;\n    }\n    const getMovies = async () => {\n      setIsLoading(true);\n      try {\n        const { poster_path, name, title, overview, genres, vote_average } =\n          await getMovieDetails(movieId);\n        setMovieDetails({\n          poster_path,\n          name: name || undefined,\n          title: title || undefined,\n          vote_average: vote_average.toFixed(2),\n          overview,\n          genres: genres.map(({ name, id }) => <li key={id}>{name}</li>),\n        });\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getMovies();\n  }, [movieId]);\n\n  const hasError = error.length > 0;\n  const { poster_path, name, title, vote_average, overview, genres } =\n    movieDetails;\n\n  return (\n    <>\n      {hasError ? (\n        <p className={css.error}>\n          <p>Sorry, movie was not found, try again later</p>\n        </p>\n      ) : (\n        <main className={css.main}>\n          {isLoading ? (\n            <Loader />\n          ) : (\n            <>\n              <Link className={css.button} to={location.state?.from ?? '/'}>Go back</Link>\n              <div className={css.movieItem}>\n                <img className={css.moviePoster}\n                  src={\n                    poster_path\n                      ? `https://image.tmdb.org/t/p/w500${poster_path}`\n                      : 'https://placehold.co/200x300/orange/white?text=There+is+no+poster&font=roboto.png'\n                  }\n                  alt={name || title}\n                />\n                <div >\n                  <h1 className={css.movieTitle}>{name || title || 'No name'}</h1>\n                  <h2 className={css.movieRating}>\n                    Rating: {vote_average || 'No votes'}\n                  </h2 >\n                  <p className={css.title}>Overview:</p>\n                  <p className={css.overviewText}>\n                    {overview || 'No overview'}\n                  </p>\n                  <h3 className={css.title}>Genres:</h3>\n                  <p className={css.overviewText}>{genres || 'No genres'}</p>\n                </div>\n              </div>\n              <div>\n                <ul className={css.more}>\n                  <li>\n                    <Link className={css.linkItem}\n                      to=\"cast\"\n                      state={{ from: location.state?.from ?? '/' }}\n                    >\n                      Cast\n                    </Link>\n                  </li>\n                  <li>\n                    <Link className={css.linkItem}\n                      to=\"reviews\"\n                      state={{ from: location.state?.from ?? '/' }}\n                    >\n                      Reviews\n                    </Link>\n                  </li>\n                </ul>\n              </div>\n              <Outlet />\n            </>\n          )}\n        </main>\n      )}\n    </>\n  );\n}\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\naxios.defaults.params = {\n  api_key: 'c665198cf22d79697e7d5dc85f192a7c',\n};\n\nexport const getTrendingMovies = async () => {\n  const { data } = await axios.get(`trending/movie/day`, {\n    params: {\n      page: 1,\n    },\n  });\n  return data;\n};\n\nexport const searchMovies = async query => {\n  const { data } = await axios.get(`search/movie`, {\n    params: {\n      query: query,\n      page: 1,\n    },\n  });\n  return data;\n};\n\nexport const getMovieDetails = async id => {\n  const { data } = await axios.get(`movie/${id}`);\n  return data;\n};\n\nexport const getMovieCredits = async id => {\n  const { data } = await axios.get(`movie/${id}/credits`);\n  return data.cast;\n};\n\nexport const getMovieReviews = async id => {\n  const { data } = await axios.get(`movie/${id}/reviews`);\n  return data.results;\n};\n"],"names":["MovieDetails","useState","movieDetails","setMovieDetails","error","setError","isLoading","setIsLoading","location","useLocation","movieId","useParams","useEffect","getMovies","getMovieDetails","poster_path","name","title","overview","genres","vote_average","undefined","toFixed","map","id","message","hasError","length","className","css","Loader","to","state","from","src","alt","axios","api_key","getTrendingMovies","params","page","data","searchMovies","query","getMovieCredits","cast","getMovieReviews","results"],"sourceRoot":""}